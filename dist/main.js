!function(e){var t={};function r(s){if(t[s])return t[s].exports;var o=t[s]={i:s,l:!1,exports:{}};return e[s].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=t,r.d=function(e,t,s){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(r.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(s,o,function(t){return e[t]}.bind(null,o));return s},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t,r){"use strict";r.r(t);var s=[[{code:"Backquote",rus:{lower:"ё",upper:"Ё",isLetter:!0},eng:{lower:"`",upper:"~",isLetter:!1}},{code:"Digit1",rus:{lower:"1",upper:"!",isLetter:!1},eng:{lower:"1",upper:"!",isLetter:!1}},{code:"Digit2",rus:{lower:"2",upper:'"',isLetter:!1},eng:{lower:"2",upper:"@",isLetter:!1}},{code:"Digit3",rus:{lower:"3",upper:"№",isLetter:!1},eng:{lower:"3",upper:"#",isLetter:!1}},{code:"Digit4",rus:{lower:"4",upper:";",isLetter:!1},eng:{lower:"4",upper:"$",isLetter:!1}},{code:"Digit5",rus:{lower:"5",upper:"%",isLetter:!1},eng:{lower:"5",upper:"%",isLetter:!1}},{code:"Digit6",rus:{lower:"6",upper:":",isLetter:!1},eng:{lower:"6",upper:"^",isLetter:!1}},{code:"Digit7",rus:{lower:"7",upper:":",isLetter:!1},eng:{lower:"7",upper:"^",isLetter:!1}},{code:"Digit8",rus:{lower:"8",upper:":",isLetter:!1},eng:{lower:"8",upper:"^",isLetter:!1}},{code:"Digit9",rus:{lower:"9",upper:"(",isLetter:!1},eng:{lower:"9",upper:"(",isLetter:!1}},{code:"Digit0",rus:{lower:"0",upper:")",isLetter:!1},eng:{lower:"0",upper:")",isLetter:!1}},{code:"Minus",rus:{lower:"-",upper:"_",isLetter:!1},eng:{lower:"-",upper:"_",isLetter:!1}},{code:"Plus",rus:{lower:"=",upper:"+",isLetter:!1},eng:{lower:"=",upper:"+",isLetter:!1}},{code:"Backspace",rus:{lower:"Backspace",upper:"Backspace",isLetter:!1},eng:{lower:"Backspace",upper:"Backspace",isLetter:!1}}],[{code:"Tab",rus:{lower:"Tab",upper:"Tab",isLetter:!1},eng:{lower:"Tab",upper:"Tab",isLetter:!1}},{code:"KeyQ",rus:{lower:"й",upper:"Й",isLetter:!0},eng:{lower:"q",upper:"Q",isLetter:!0}},{code:"KeyW",rus:{lower:"ц",upper:"Ц",isLetter:!0},eng:{lower:"w",upper:"W",isLetter:!0}},{code:"KeyE",rus:{lower:"у",upper:"У",isLetter:!0},eng:{lower:"e",upper:"E",isLetter:!0}},{code:"KeyR",rus:{lower:"к",upper:"К",isLetter:!0},eng:{lower:"r",upper:"R",isLetter:!0}},{code:"KeyT",rus:{lower:"е",upper:"Е",isLetter:!0},eng:{lower:"t",upper:"T",isLetter:!0}},{code:"KeyY",rus:{lower:"н",upper:"Н",isLetter:!0},eng:{lower:"y",upper:"Y",isLetter:!0}},{code:"KeyU",rus:{lower:"г",upper:"Г",isLetter:!0},eng:{lower:"u",upper:"U",isLetter:!0}},{code:"KeyI",rus:{lower:"ш",upper:"Ш",isLetter:!0},eng:{lower:"i",upper:"I",isLetter:!0}},{code:"KeyO",rus:{lower:"щ",upper:"Щ",isLetter:!0},eng:{lower:"o",upper:"O",isLetter:!0}},{code:"KeyP",rus:{lower:"з",upper:"З",isLetter:!0},eng:{lower:"p",upper:"P",isLetter:!0}},{code:"BracketLeft",rus:{lower:"х",upper:"Х",isLetter:!0},eng:{lower:"[",upper:"{",isLetter:!1}},{code:"BracketRight",rus:{lower:"ъ",upper:"Ъ",isLetter:!0},eng:{lower:"]",upper:"}",isLetter:!1}},{code:"Backslash",rus:{lower:"\\",upper:"/",isLetter:!1},eng:{lower:"\\",upper:"|",isLetter:!1}},{code:"Delete",rus:{lower:"Del",upper:"Del",isLetter:!1},eng:{lower:"Del",upper:"Del",isLetter:!1}}],[{code:"CapsLock",rus:{lower:"CapsLock",upper:"CapsLock",isLetter:!1},eng:{lower:"CapsLock",upper:"CapsLock",isLetter:!1}},{code:"KeyA",rus:{lower:"ф",upper:"Ф",isLetter:!0},eng:{lower:"a",upper:"A",isLetter:!0}},{code:"KeyS",rus:{lower:"ы",upper:"Ы",isLetter:!0},eng:{lower:"s",upper:"S",isLetter:!0}},{code:"KeyD",rus:{lower:"в",upper:"В",isLetter:!0},eng:{lower:"d",upper:"D",isLetter:!0}},{code:"KeyF",rus:{lower:"а",upper:"А",isLetter:!0},eng:{lower:"f",upper:"F",isLetter:!0}},{code:"KeyG",rus:{lower:"п",upper:"П",isLetter:!0},eng:{lower:"g",upper:"G",isLetter:!0}},{code:"KeyH",rus:{lower:"р",upper:"Р",isLetter:!0},eng:{lower:"h",upper:"H",isLetter:!0}},{code:"KeyJ",rus:{lower:"о",upper:"О",isLetter:!0},eng:{lower:"j",upper:"J",isLetter:!0}},{code:"KeyK",rus:{lower:"л",upper:"Л",isLetter:!0},eng:{lower:"k",upper:"K",isLetter:!0}},{code:"KeyL",rus:{lower:"д",upper:"Д",isLetter:!0},eng:{lower:"l",upper:"L",isLetter:!0}},{code:"Semicolon",rus:{lower:"ж",upper:"Ж",isLetter:!0},eng:{lower:";",upper:":",isLetter:!1}},{code:"Quote",rus:{lower:"э",upper:"Э",isLetter:!0},eng:{lower:"'",upper:'"',isLetter:!1}},{code:"Enter",rus:{lower:"ENTER",upper:"ENTER",isLetter:!1},eng:{lower:"ENTER",upper:"ENTER",isLetter:!1}}],[{code:"ShiftLeft",rus:{lower:"Shift",upper:"Shift",isLetter:!1},eng:{lower:"Shift",upper:"Shift",isLetter:!1}},{code:"KeyZ",rus:{lower:"я",upper:"Я",isLetter:!0},eng:{lower:"z",upper:"Z",isLetter:!0}},{code:"KeyX",rus:{lower:"ч",upper:"Ч",isLetter:!0},eng:{lower:"x",upper:"X",isLetter:!0}},{code:"KeyC",rus:{lower:"c",upper:"C",isLetter:!0},eng:{lower:"c",upper:"C",isLetter:!0}},{code:"KeyV",rus:{lower:"м",upper:"М",isLetter:!0},eng:{lower:"v",upper:"V",isLetter:!0}},{code:"KeyB",rus:{lower:"и",upper:"И",isLetter:!0},eng:{lower:"b",upper:"B",isLetter:!0}},{code:"KeyN",rus:{lower:"т",upper:"Т",isLetter:!0},eng:{lower:"n",upper:"N",isLetter:!0}},{code:"KeyM",rus:{lower:"ь",upper:"Ь",isLetter:!0},eng:{lower:"m",upper:"M",isLetter:!0}},{code:"Comma",rus:{lower:"б",upper:"Б",isLetter:!0},eng:{lower:",",upper:"<",isLetter:!1}},{code:"Period",rus:{lower:"ю",upper:"Ю",isLetter:!0},eng:{lower:".",upper:">",isLetter:!1}},{code:"Slash",rus:{lower:".",upper:",",isLetter:!1},eng:{lower:"/",upper:"?",isLetter:!1}},{code:"ArrowUp",rus:{lower:"▲",upper:"▲",isLetter:!1},eng:{lower:"▲",upper:"▲",isLetter:!1}},{code:"ShiftRight",rus:{lower:"Shift",upper:"Shift",isLetter:!1},eng:{lower:"Shift",upper:"Shift",isLetter:!1}}],[{code:"ControlLeft",rus:{lower:"Ctrl",upper:"Ctrl",isLetter:!1},eng:{lower:"Ctrl",upper:"Ctrl",isLetter:!1}},{code:"MetaLeft",rus:{lower:"Win",upper:"Win",isLetter:!1},eng:{lower:"Win",upper:"Win",isLetter:!1}},{code:"AltLeft",rus:{lower:"Alt",upper:"Alt",isLetter:!1},eng:{lower:"Alt",upper:"Alt",isLetter:!1}},{code:"Space",rus:{lower:" ",upper:" ",isLetter:!1},eng:{lower:" ",upper:" ",isLetter:!1}},{code:"AltRight",rus:{lower:"Alt",upper:"Alt",isLetter:!1},eng:{lower:"Alt",upper:"Alt",isLetter:!1}},{code:"ArrowLeft",rus:{lower:"◄",upper:"◄",isLetter:!1},eng:{lower:"◄",upper:"◄",isLetter:!1}},{code:"ArrowDown",rus:{lower:"▼",upper:"▼",isLetter:!1},eng:{lower:"▼",upper:"▼",isLetter:!1}},{code:"ArrowRight",rus:{lower:"►",upper:"►",isLetter:!1},eng:{lower:"►",upper:"►",isLetter:!1}},{code:"ControlRight",rus:{lower:"Ctrl",upper:"Ctrl",isLetter:!1},eng:{lower:"Ctrl",upper:"Ctrl",isLetter:!1}}]];class o{constructor(e,t,r){this.values=e,this.DOMElement=t,this.isCapsOn=r,this.currentLayoutIndex=0,this.maxLayoutIndex=this.values.length-1,this.setInitialValue(r)}setInitialValue(e){this.DOMElement.innerHTML=e?this.getUppercase(!1):this.getLowercase(!1)}setCurrentValue(e,t){this.DOMElement.innerHTML=e?t?this.getLowercase(e):this.getUppercase(e):t?this.getUppercase(e):this.getLowercase(e)}getLowercase(e){return e&&!this.values[this.currentLayoutIndex].isLetter?this.values[this.currentLayoutIndex].upper:this.values[this.currentLayoutIndex].lower}getUppercase(e){return e&&!this.values[this.currentLayoutIndex].isLetter?this.values[this.currentLayoutIndex].lower:this.values[this.currentLayoutIndex].upper}switchLayout(e){this.currentLayoutIndex===this.maxLayoutIndex?this.currentLayoutIndex=0:this.currentLayoutIndex+=1,this.setCurrentValue(e,!1)}}class i{constructor(e,t,r){this.keys={},this.isCapsOn=r,this.isShiftOn=!1,this.initKeys(e,t,r),this.initEvents()}initKeys(e,t,r){e.forEach(e=>{const s=document.createElement("div");e.forEach(e=>{const t=document.createElement("button"),i=new o([e.rus,e.eng],t,r);s.append(t);const n=i.values[i.currentLayoutIndex].lower;t.className="Backspace"===n||"CapsLock"===n||"SHIFT"===n||"Shift"===n||"ENTER"===n?"virtual-keyboard__key virtual-keyboard__key--wide":" "===n?"virtual-keyboard__key virtual-keyboard__key--extra-wide":"virtual-keyboard__key",this.keys[e.code]=i}),t.append(s)})}initEvents(){document.addEventListener("keydown",e=>{const t=this.keys[e.code];if(t.DOMElement.style.background="purple",t.DOMElement.style.transform="translateY(-4px)",t.DOMElement.style.transition="transform 10ms ease-in",e.altKey&&e.shiftKey)this.onLayoutSwitch();else switch(e.code){case"ShiftLeft":case"ShiftRight":this.onShiftDown();break;case"ControlLeft":case"ControlRight":break;case"CapsLock":this.onCapsPressed();break;case"Tab":e.preventDefault(),this.onTabDown();break;case"MetaLeft":case"MetaRight":case"Backspace":case"AltLeft":case"AltRight":break;case"Enter":this.onEnterDown();break;default:this.onLetterDown(this.keys[e.code].DOMElement.innerHTML)}}),document.addEventListener("keyup",e=>{const t=this.keys[e.code];t.DOMElement.style.transform="translateY(0px)",t.DOMElement.style.background="rgba(255, 255, 255, 0.5)","ShiftLeft"===e.code||"ShiftRight"===e.code?this.onShiftUp():"AltLeft"===e.code||"AltRight"===e.code?(e.preventDefault(),this.onAltUp()):"Backspace"!==e.code&&"Backspace"!==e.code||this.onBackspaceUp()}),Object.keys(this.keys).forEach(e=>{const t=this.keys[e];t.DOMElement.addEventListener("click",()=>{"ControlLeft"!==e&&"ControlRight"!==e&&"ShiftLeft"!==e&&"ShiftRight"!==e&&"MetaLeft"!==e&&"MetaRight"!==e&&"AltLeft"!==e&&"AltRight"!==e&&"Delete"!==e&&("CapsLock"===e?this.onCapsPressed():"Tab"===e?this.onTabClick():"Backspace"===e?this.onBackspaceDown():"Enter"===e?this.onEnterDown():this.onLetterDown(t.DOMElement.innerHTML))})}),Object.keys(this.keys).forEach(e=>{const t=this.keys[e];t.DOMElement.addEventListener("mousedown",()=>{t.DOMElement.style.background="purple",t.DOMElement.style.transform="translateY(-4px)",t.DOMElement.style.transition="transform 10ms ease-in"}),t.DOMElement.addEventListener("mouseup",()=>{t.DOMElement.style.transform="translateY(0px)",t.DOMElement.style.background="rgba(255, 255, 255, 0.5)"})}),this.keys.ShiftLeft.DOMElement.addEventListener("mousedown",()=>{this.onShiftDown()}),this.keys.ShiftRight.DOMElement.addEventListener("mousedown",()=>{this.onShiftDown()}),this.keys.ShiftLeft.DOMElement.addEventListener("mouseup",()=>{this.onShiftUp()}),this.keys.ShiftRight.DOMElement.addEventListener("mouseup",()=>{this.onShiftUp()}),this.keys.Backspace.DOMElement.addEventListener("mouseup",()=>{this.onBackspaceUp()}),this.keys.AltLeft.DOMElement.addEventListener("mouseup",()=>{this.onAltUp()}),this.keys.AltRigth.DOMElement.addEventListener("mouseup",()=>{this.onAltUp()}),this.keys.Alt.DOMElement.addEventListener("mouseup",()=>{this.onAltUp()})}onShiftDown(){this.isShiftOn=!0,Object.values(this.keys).forEach(e=>{e.setCurrentValue(this.isCapsOn,this.isShiftOn)})}onShiftUp(){this.isShiftOn=!1,Object.values(this.keys).forEach(e=>{e.setCurrentValue(this.isCapsOn,this.isShiftOn)})}onLayoutSwitch(){Object.values(this.keys).forEach(e=>{e.switchLayout(this.isCapsOn)})}onCapsPressed(){this.isCapsOn=!this.isCapsOn,Object.values(this.keys).forEach(e=>{e.setCurrentValue(this.isCapsOn,this.isShiftOn)})}onTabDown(){const e=document.querySelector(".textarea");e.append("  "),e.focus()}onTabClick(){document.querySelector(".textarea").append("  ")}onAltUp(){const e=document.querySelector(".textarea");e.setSelectionRange(e.value.length,e.value.length),e.focus()}onBackspaceDown(){const e=document.querySelector(".textarea");e.value=e.value.substring(0,e.value.length-1)}onBackspaceUp(){const e=document.querySelector(".textarea");e.focus(),e.setSelectionRange(e.value.length,e.value.length)}onEnterDown(){const e=document.querySelector(".textarea");e.focus(),e.append("\n")}onLetterDown(e){document.querySelector(".textarea").append(e)}}!function(){const e=document.createElement("textarea");e.className="textarea",document.body.append(e),e.setAttribute("rows",17),e.setAttribute("cols",100);const t=document.createElement("div");t.className="virtual-keyboard",document.body.append(t);const r=document.createElement("div");r.className="virtual-keyboard__keys",t.appendChild(r),new i(s,r,!1)}()}]);